(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"09e0":function(t,e,a){},"2b56":function(t,e,a){"use strict";a("09e0")},7277:function(t,e,a){"use strict";a.r(e);var i,s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Header"),a("coral-toast",{attrs:{id:"iconUpdated",variant:"success"}},[t._v(" All icons have been updated ")]),a("coral-toast",{attrs:{id:"iconApproved",variant:"success"}},[t._v(" Icon has been approved ")]),a("coral-toast",{attrs:{id:"approveError",variant:"error"}},[t._v(" There has been an error, please Approve again ")]),a("div",{staticClass:"coral-Well m-t-50",attrs:{id:"signIn-wrapper"}},[a("div",{staticClass:"m-b-20"},[a("coral-textfield",{tag:"input",attrs:{id:"email",type:"email",placeholder:"Email","aria-label":"text input"}})],1),a("div",{staticClass:"m-b-20"},[a("coral-textfield",{tag:"input",attrs:{id:"password",type:"password",placeholder:"Password","aria-label":"text input"}})],1),a("div",{staticClass:"m-t-40 m-b-5",attrs:{id:"signin-button"}},[a("coral-button",{tag:"button",attrs:{variant:"cta"},on:{click:t.signIn}},[t._v("Sign In")])],1)]),t.isObjEmpty(t.icons)&t.isAuth?a("h3",{staticClass:"coral-Heading--M m-t-50",attrs:{id:"noIcons"}},[t._v(" No icons to aprove ")]):t._e(),a("coral-dialog",{attrs:{id:"editUserDialog"}},[a("coral-dialog-header",[t._v(t._s(t.selectedUser.usersName))]),a("coral-dialog-content",[a("form",{staticClass:"coral-Form coral-Form--vertical",staticStyle:{"max-width":"300px"}},[a("label",{staticClass:"coral-FieldLabel",attrs:{id:"nameEditUser"}},[t._v("usersName")]),a("coral-textfield",{tag:"input",staticClass:"coral-Form-field",attrs:{id:"nameEditUserInput",value:t.selectedUser.usersName,labelledby:"nameEditUser"},on:{change:function(e){return t.editDoc(t.selectedUser,e,"usersName",!0)}}}),a("label",{staticClass:"coral-FieldLabel",attrs:{id:"creditEditUser"}},[t._v("Credit")]),a("coral-textfield",{tag:"input",staticClass:"coral-Form-field",attrs:{id:"creditEditUserInput",value:t.selectedUser.creditUrl,labelledby:"creditEditUser"},on:{change:function(e){return t.editDoc(t.selectedUser,e,"credit",!0)}}}),a("label",{staticClass:"coral-FieldLabel",attrs:{id:"emailEditUser"}},[t._v("email")]),a("coral-textfield",{tag:"input",staticClass:"coral-Form-field",attrs:{id:"emailEditUserInput",value:t.selectedUser.email,labelledby:"emailEditUser"},on:{change:function(e){return t.editDoc(t.selectedUser,e,"email",!0)}}})],1)]),a("coral-dialog-footer",[a("coral-button",{tag:"button",attrs:{variant:"primary","coral-close":""}},[t._v("Done")])],1)],1),a("section",{staticClass:"dashBoard"},[t.isAuth?a("div",{staticClass:"main-search-wrapper coral-bg p-b-15",on:{click:function(e){t.isSearch=!0}}},[a("div",{staticClass:"m-auto main-search"},[a("div",{staticClass:"shadow main-border-radius"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchString,expression:"searchString"}],staticClass:"_coral-Search-input _coral-Textfield searchBar",attrs:{placeholder:"(Not working yet) - Icons to approve: "+t.iconListLen,type:"text",name:"name","aria-label":"text input"},domProps:{value:t.searchString},on:{input:function(e){e.target.composing||(t.searchString=e.target.value)}}}),a("svg",{staticClass:"icon fill-dark",attrs:{id:"coral-css-icon-Magnifier",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M15.77 14.71l-4.534-4.535a6.014 6.014 0 1 0-1.06 1.06l4.533 4.535a.75.75 0 1 0 1.061-1.06zM6.5 11A4.5 4.5 0 1 1 11 6.5 4.505 4.505 0 0 1 6.5 11z"}})])])])]):t._e(),a("div",{staticClass:"p-t-20 p-b-50 dashboard-wrapper"},[t._l(t.icons,(function(e){return a("div",{key:e.usersName,staticClass:"p-b-30"},[a("h3",{staticClass:"coral-Heading--M p-b-10 text-left"},[a("a",{attrs:{href:"mailto:"+e.email+"?subject=macOS icons submission"}},[t._v(" "+t._s(e.usersName)+" ")]),a("img",{staticClass:"dashboard-edit-user",attrs:{src:t.coralIcons.edit,alt:""},on:{click:function(a){return t.showDialog("editUserDialog",e)}}})]),a("div",{staticClass:"icon-list-area"},t._l(e.icons,(function(e){return a("div",{key:e.fileName,staticClass:"card-wrapper coral-card"},[a("div",{staticClass:"card-img-wrapper",staticStyle:{"max-width":"120px"}},[e.isReview?a("div",{staticClass:"loading-approval-wrapper"},[a("div",{staticClass:"loading-approval"})]):t._e(),a("div",{directives:[{name:"lazy-container",rawName:"v-lazy-container",value:{selector:"img",loading:t.coralIcons.loading},expression:"{ selector: 'img', loading: coralIcons.loading }"}]},[a("img",{staticClass:"w-full",attrs:{"data-src":e.imgUrl}})]),a("div",{staticClass:"quick-actions-wrapper"},[a("div",{staticClass:"quick-action-el"},[a("coral-icon",{staticClass:"h-full quick-action-icon",attrs:{id:e.fileName,icon:t.coralIcons.delete,title:"Delete"},on:{click:function(a){return t.deleteSubmission(e)}}})],1)])]),a("div",{staticClass:"p-l-15 p-r-15 p-b-0"},[a("p",{staticClass:"coral-Body--XS opacity-60 m-b-0"},[a("coral-textfield",{tag:"input",staticClass:"editable-input coral-Body--XS opacity-50 m-b-0",attrs:{type:"text",variant:"quiet",value:t.getDate(e.timeStamp),"aria-label":"text input"},on:{change:function(a){return t.changeDate(e,a)}}})],1),a("h3",{staticClass:"coral-font-color m-b-0"},[a("coral-textfield",{tag:"input",staticClass:"editable-input f-w-800 m-b-0",attrs:{type:"text",variant:"quiet",value:t.prettifyName(e.appName),"aria-label":"text input"},on:{change:function(a){return t.editDoc(e,a,"appName",!1)}}})],1),a("p",{staticClass:"coral-Body--XS p-b-0 opacity-80 m-b-0"},[a("coral-textfield",{tag:"input",staticClass:"editable-input",attrs:{type:"text",variant:"quiet",value:e.usersName,"aria-label":"text input"},on:{change:function(a){return t.editDoc(e,a,"usersName")}}})],1),""!=e.credit?a("p",{staticClass:"coral-Body--XS p-b-0 opacity-50 m-b-0"},[a("coral-textfield",{tag:"input",staticClass:"editable-input small-text",attrs:{type:"text",variant:"quiet",value:e.credit,"aria-label":"text input"},on:{change:function(a){return t.editDoc(e,a,"credit")}}})],1):t._e(),""==e.credit?a("p",{staticClass:"coral-Body--XS p-b-0 opacity-50 m-b-0"},[a("coral-textfield",{tag:"input",staticClass:"editable-input small-text",attrs:{type:"text",variant:"quiet",value:"n/a","aria-label":"text input"},on:{change:function(a){return t.editDoc(e,a,"credit")}}})],1):t._e(),a("div",{staticClass:"p-t-15"},[a("button",{staticClass:"coral-btn coral-btn-primary",on:{click:function(a){return t.approveIcon(e)}}},[t._v("Approve")]),"user@email.com"!=e.email?a("div",{staticClass:"p-t-10"},[a("a",{staticClass:"coral-Link",attrs:{href:"mailto:"+e.email+"?subject=macOS icons submission&body="+e.usersName}},[t._v(" email ")])]):t._e()])])])})),0)])})),t.isObjEmpty(t.approvedIcons)?t._e():a("div",{staticClass:"m-t-50 p-50 coral-Well",attrs:{id:"approved-icons"}},[a("h3",{staticClass:"coral-Heading--L p-b-20 m-t-0 text-left"},[t._v(" Approved ")]),a("div",{staticClass:"icon-list-area"},t._l(t.approvedIcons,(function(e){return a("div",{key:e.fileName,staticClass:"card-wrapper coral-card"},[a("div",{staticClass:"card-img-wrapper",staticStyle:{"max-width":"120px"}},[t._v(" Image ")]),a("div",{staticClass:"p-l-15 p-r-15 p-b-5"},[a("h3",{staticClass:"coral-font-color"},[t._v(" "+t._s(t.prettifyName(e.appName))+" ")]),a("p",{staticClass:"coral-Body--XS p-b-10 opacity-60"},[t._v("By "),a("a",{staticClass:"coral-Link",attrs:{href:e.credit,target:"_blank"}},[t._v(t._s(e.usersName))])]),a("div",{staticClass:"p-t-10"},[a("div",{staticClass:"filler-space"}),a("a",{staticClass:"coral-Link",attrs:{href:"mailto:"+e.email+"?subject=macOS icons submission&body=Hi "+e.usersName+t.emailMsg}},[a("coral-button",{tag:"button",attrs:{variant:"quiet"}},[t._v(" Contact ")])],1)])])])})),0)])],2)])],1)},o=[],n=(a("4160"),a("b64b"),a("ac1f"),a("5319"),a("159b"),a("96cf"),a("1da1")),c=a("ade3"),r=a("5530"),l=a("2b0e"),d=a("2f62"),u=a("0418"),m=a("8aa5"),p=m["firestore"](),f=m["functions"](),g=m["storage"](),v=p.collection("submissions").where("approved","==",!1).orderBy("usersName").orderBy("timeStamp"),h={data:function(){return{icons:{},isSearch:!1,searchString:"",iconListLen:0,emailMsg:"Thanks you for your submission to macosicons.com! I'm just getting in touch with you to ask if you could ..., otherwise the icons won't work propperly. You can either email me back or re-submit the icons on macosicons.com. Thanks again, Elias webbites.io",approvedIcons:{},isAuth:!1,selectedUser:{},scrolledToBottom:!0,coralIcons:{addIcon:a("76a4"),delete:a("0d45"),newItem:a("a859"),edit:a("daf0"),loading:a("cf1c")}}},components:{Header:u["a"]},methods:Object(r["a"])(Object(r["a"])({},Object(d["b"])(["showToast"])),{},{showDialog:function(t,e){var a=this,i=document.getElementById("nameEditUserInput"),s=document.getElementById("creditEditUserInput"),o=document.getElementById("emailEditUserInput");i.value=e.usersName,s.value=e.creditUrl,o.value=e.email,document.getElementById(t).show(),a.selectedUser=e,console.log(e)},getDate:function(t){var e=new Date(t),a=e.getUTCDate();a<10&&(a="0"+a);var i=e.getUTCMonth()+1;i<10&&(i="0"+i);var s=e.getFullYear(),o=a+"/"+i+"/"+s;return o},editDoc:function(t,e,a,i){var s=this,o=e.target.value;console.log(o),i?function(){var e=Object.keys(t.icons).length,i=0;for(var n in t.icons)p.collection("submissions").doc(t.icons[n].id).update(Object(c["a"])({},a,o)).then((function(){i++,i==e&&(s.showToast({id:"iconUpdated"}),console.log("All documents successfully updated!")),console.log("Document successfully updated!")})).catch((function(t){console.error("Error updating document: ",t)}))}():i||p.collection("submissions").doc(t.id).update(Object(c["a"])({},a,o)).then((function(){console.log("Document successfully updated!")})).catch((function(t){console.error("Error updating document: ",t)}))},signIn:function(){var t=document.getElementById("email").value,e=document.getElementById("password").value;console.log(t),m["auth"]().signInWithEmailAndPassword(t,e).then((function(t){console.log(t)})).catch((function(t){t.code,t.message}))},isObjEmpty:function(t){return 0==Object.keys(t).length},deleteSubmission:function(t){var e=this;console.log(t);var a=g.ref().child(t.iconRef);a.delete().then((function(){console.log(t.appName," deleted successfully.")})).catch((function(e){console.log("Uh-oh, an error occurred with: ",t.appName," with ID: ",t.id)})),p.collection("submissions").doc(t.id).delete().then((function(){console.log("Document successfully deleted!"),l["a"].delete(e.icons[t.usersName].icons,t.appName),0==Object.keys(e.icons[t.usersName].icons).length&&l["a"].delete(e.icons,t.usersName)})).catch((function(t){console.error("Error removing document: ",t)}))},prettifyName:function(t){for(var e in t)t=t.replace("_"," ");return t},approveIcon:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=e,console.log(t),s=i.icons[t.usersName].icons[t.appName],o=f.httpsCallable("convertToIcns"),o(t).then((function(t){i.showToast({id:"iconApproved"}),l["a"].set(s,"isReview",!0),console.log(t.data)})).catch((function(t){console.log(t),i.showToast({id:"approveError"})}));case 5:case"end":return a.stop()}}),a)})))()},indexIcon:function(t){console.log(t),f.useFunctionsEmulator("http://localhost:5001");var e=f.httpsCallable("indexIconTest");e(t).then((function(t){console.log(t.data)}))},getIconListLen:function(){var t=this;v.onSnapshot((function(e){t.iconListLen=e.docs.length}))},loadMore:function(){var t=this;console.log(i),v.startAfter(i).limit(25).get().then((function(e){e.forEach((function(e){setTimeout((function(){t.scrolledToBottom=!0}),300);var a=e.data();a.imgUrl="";var i=a.usersName,s=a.appName,o=a.email,n=a.credit,c=e.id;if(a.id=c,""==i||void 0==i)console.log("usersName undefined ");else if(void 0==t.icons[i]){l["a"].set(t.icons,i,{usersName:i,email:o,icons:{},creditUrl:n}),l["a"].set(t.icons[i].icons,s,a);var r=g.ref(a.iconRef);r.getDownloadURL().then((function(e){l["a"].set(t.icons[i].icons[s],"imgUrl",e)}))}else{l["a"].set(t.icons[i].icons,s,a);r=g.ref(a.iconRef);r.getDownloadURL().then((function(e){l["a"].set(t.icons[i].icons[s],"imgUrl",e)}))}})),i=e.docs[e.docs.length-1]}))},scroll:function(){var t=this;window.onscroll=function(){var e=document.documentElement.offsetHeight-(Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop)+window.innerHeight)<1200;e&&t.scrolledToBottom&&!t.isSearch&&(t.scrolledToBottom=!1,t.loadMore())}}}),mounted:function(){var t=this;function e(t){document.getElementById(t).style.display="block"}function a(t){document.getElementById(t).style.display="none"}t.getIconListLen(),m["auth"]().onAuthStateChanged((function(s){if(s){console.log("Signed In");s.providerData;a("signIn-wrapper"),t.isAuth=!0,console.log(t.isAuth),v.limit(25).get().then((function(e){e.forEach((function(a){i=e.docs[e.docs.length-1];var s=a.data();s.imgUrl="";var o,n=s.usersName,c=s.appName,r=s.email,d=s.credit,u=a.id;s.id=u,""==n||void 0==n?void 0==t.icons["Undefined"]?(l["a"].set(t.icons,"Undefined",{usersName:"Undefined",email:r,icons:{},creditUrl:d}),l["a"].set(t.icons["Undefined"].icons,c,s),o=g.ref(s.iconRef),o.getDownloadURL().then((function(e){l["a"].set(t.icons["Undefined"].icons[c],"imgUrl",e),l["a"].set(t.icons["Undefined"].icons[c],"usersName","Undefined"),l["a"].set(t.icons["Undefined"],"usersName","Undefined")}))):(l["a"].set(t.icons["Undefined"].icons,c,s),l["a"].set(t.icons["Undefined"].icons[c],"usersName","Undefined"),l["a"].set(t.icons["Undefined"],"usersName","Undefined"),o=g.ref(s.iconRef),o.getDownloadURL().then((function(e){l["a"].set(t.icons["Undefined"].icons[c],"imgUrl",e)}))):void 0==t.icons[n]?(l["a"].set(t.icons,n,{usersName:n,email:r,icons:{},creditUrl:d}),l["a"].set(t.icons[n].icons,c,s),o=g.ref(s.iconRef),o.getDownloadURL().then((function(e){l["a"].set(t.icons[n].icons[c],"imgUrl",e)}))):(l["a"].set(t.icons[n].icons,c,s),o=g.ref(s.iconRef),o.getDownloadURL().then((function(e){l["a"].set(t.icons[n].icons[c],"imgUrl",e)})))}))})).then((function(e){t.scroll()}))}else e("signIn-wrapper"),console.log("Not Signed In")}))},computed:{}},b=h,y=(a("2b56"),a("2877")),w=Object(y["a"])(b,s,o,!1,null,null,null);e["default"]=w.exports}}]);
//# sourceMappingURL=about.508a958f.js.map